<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Scribble Notes</title>

  <style>
    body {
      font-family: system-ui;
      background:#f6f7f9;
      padding:16px;
    }

    .container {
      max-width:900px;
      margin:auto;
      background:#fff;
      padding:20px;
      border-radius:14px;
    }

    .note-title {
      width:100%;
      font-size:16px;
      padding:10px;
      border-radius:8px;
      border:1px solid #e5e7eb;
      margin-bottom:10px;
    }

    textarea {
      width:100%;
      min-height:60vh;
      font-size:15px;
      line-height:1.6;
      padding:12px;
      border-radius:10px;
      border:1px solid #e5e7eb;
      resize:vertical;
      font-family: system-ui;
    }

    .actions {
      margin-top:12px;
      display:flex;
      justify-content:space-between;
      align-items:center;
    }

    .hint {
      font-size:13px;
      color:#6b7280;
    }

    button {
      padding:8px 14px;
      border-radius:8px;
      border:none;
      background:#2563eb;
      color:white;
      font-weight:600;
      cursor:pointer;
    }
  </style>
</head>

<body>
{% include "_top_nav.html" %}

<div class="container">
  <h2>üìù Scribble Notes</h2>

  <input
    class="note-title"
    name="title"
    placeholder="Give this note a friendly name (optional)‚Ä¶"
    value="{{ note.title if note else '' }}"
  >

  <textarea
    name="content"
    placeholder="Write freely. Bullets, ideas, rough thoughts‚Ä¶">{{ note.content if note else '' }}</textarea>

  <div class="actions">
    <div class="hint">
      Plain text for now ‚Äî formatting can be added later without losing data.
    </div>

    <button onclick="saveNote()">üíæ Save</button>
  </div>
</div>

<script>
function saveNote() {
  fetch("/scribble/save", {
    method: "POST",
    headers: {"Content-Type": "application/json"},
    body: JSON.stringify({
      title: document.querySelector(".note-title").value,
      content: document.querySelector("textarea").value
    })
  })
  .then(r => r.json())
  .then(() => alert("Saved ‚úì"))
  .catch(() => alert("Save failed"));
}
</script>

</body>
</html>
