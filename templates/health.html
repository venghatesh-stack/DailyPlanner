<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="{{ url_for('static', filename='health.css') }}">
</head>

<body>

<div class="health-container">

  <div class="nav-icons">
    {% include "_top_nav.html" %}
  </div>

  <div class="health-header">
    <h2>ğŸ§˜ Health & Reflection</h2>
    <div class="date-display">
      {{ plan_date }}
    </div>
  </div>

  <form method="POST" class="health-form">

    <!-- Physical Card -->
    <div class="health-card">

      <h3>Physical</h3>

      <label>Weight (kg)</label>
      <input type="number" step="0.1" name="weight"
             value="{{ data.weight or '' }}">

      <label>Sleep (hours)</label>
      <input type="number" step="0.5" name="sleep_hours"
             value="{{ data.sleep_hours or '' }}">

      <label>Mood</label>
      <select name="mood">
        <option value="">Select</option>
        <option value="great">ğŸ˜Š Great</option>
        <option value="okay">ğŸ™‚ Okay</option>
        <option value="low">ğŸ˜ Low</option>
      </select>

    </div>

    <!-- Habits Card -->
    <div class="health-card daily-habits">

      <h3>Daily Habits</h3>

      <div class="habit-list">

        <label class="habit-item">
          <input type="checkbox" data-habit="walking"
            {% if habits.get("walking") %}checked{% endif %}>
          ğŸš¶ Walking
        </label>

        <label class="habit-item">
          <input type="checkbox" data-habit="water"
            {% if habits.get("water") %}checked{% endif %}>
          ğŸ’§ Water
        </label>

        <label class="habit-item">
          <input type="checkbox" data-habit="no_shopping"
            {% if habits.get("no_shopping") %}checked{% endif %}>
          ğŸ›‘ No Shopping
        </label>

        <label class="habit-item">
          <input type="checkbox" data-habit="no_time_wastage"
            {% if habits.get("no_time_wastage") %}checked{% endif %}>
          ğŸ“µ No Time Wastage
        </label>

        <label class="habit-item">
          <input type="checkbox" data-habit="sleep_8hrs"
            {% if habits.get("sleep_8hrs") %}checked{% endif %}>
          ğŸ˜´ 8 hrs Sleep
        </label>

        <label class="habit-item">
          <input type="checkbox" data-habit="daily_prayers"
            {% if habits.get("daily_prayers") %}checked{% endif %}>
          ğŸ™ Daily Prayers
        </label>

      </div>
    </div>

    <!-- Reflection Card -->
    <div class="health-card">

      <h3>ğŸ§  Reflection</h3>

      <textarea name="reflection"
                placeholder="How did the day go?">
        {{ data.reflection or '' }}
      </textarea>

    </div>

  </form>

</div>

<!-- Sticky Save Button -->
<div class="save-wrapper">
  <button type="submit" class="save-btn">ğŸ’¾ Save</button>
</div>
<!-- Add Habit Modal -->
<div id="habitModal" class="modal-overlay">
  <div class="modal-card">
    <div class="modal-header">
      <h3>Add New Habit</h3>
      <button class="modal-close" onclick="closeHabitModal()">âœ•</button>
    </div>

    <div class="modal-body">
      <label>Habit Name</label>
      <input type="text" id="modalHabitName" placeholder="e.g. Walk">

      <label>Unit</label>
      <input type="text" id="modalHabitUnit" placeholder="e.g. steps, mins">

      <label>Daily Goal</label>
      <input type="number" id="modalHabitGoal" placeholder="e.g. 8000">
    </div>

    <div class="modal-footer">
      <button class="btn-secondary" onclick="closeHabitModal()">Cancel</button>
      <button class="btn-primary" onclick="submitHabitModal()">Add Habit</button>
    </div>
  </div>
</div>
</body>
<script src="{{ url_for('static', filename='health.js') }}" defer></script>
</html>
