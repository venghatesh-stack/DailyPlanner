
<div class="nav-icons">  {% include "_top_nav.html" %}  </div>
<div class="health-container">

  <div class="health-header">
    <h2>ğŸ’š Health Dashboard</h2>
    <input type="date" id="health-date">
  </div>
<div class="habit-summary">

  <div class="habit-circle">
    <svg width="120" height="120">
      <circle cx="60" cy="60" r="50" stroke="#e5e7eb" stroke-width="10" fill="none"/>
      <circle cx="60" cy="60" r="50"
              stroke="#2563eb"
              stroke-width="10"
              fill="none"
              stroke-dasharray="314"
              stroke-dashoffset="{{ 314 - (habit_percent * 3.14) }}"
              transform="rotate(-90 60 60)"/>
    </svg>
    <div class="circle-text">{{ habit_percent }}%</div>
  </div>

  <div class="streak-badge">
    ğŸ”¥ {{ health_streak }} day streak
  </div>

</div>

  <div class="health-grid">

    <!-- Metrics Card -->
    <div class="health-card">
      <label>Weight (kg)</label>
      <input type="number" id="weight" step="0.1">

      <label>Sleep (hours)</label>
      <input type="number" id="sleep" step="0.5">

      <label>Mood</label>
      <select id="mood">
        <option>ğŸ˜Š Happy</option>
        <option>ğŸ˜ Neutral</option>
        <option>ğŸ˜ Low</option>
      </select>

      <label>Energy (1â€“10)</label>
      <input type="range" id="energy" min="1" max="10">

      <label>Notes</label>
      <textarea id="health-notes"></textarea>
      <h4>Daily Habits</h4>
        <div class="habit-list">
        {% for habit in habit_list %}
            <label class="habit-item">
            <input type="checkbox"
                    data-habit="{{ habit }}"
                    {% if habits.get(habit) %}checked{% endif %}>
            <span>{{ habit_icons.get(habit) }} {{ habit.replace("_", " ").title() }}</span>
            </label>
        {% endfor %}
        </div>

      <button onclick="saveHealth()">Save</button>
    </div>

    <!-- Chart Card -->
    <div class="health-card">
      <canvas id="healthChart"></canvas>
    </div>

  </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{{ url_for('static', filename='health.js') }}"></script>
