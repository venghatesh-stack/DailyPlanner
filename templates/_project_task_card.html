<div id="task-{{ task.id }}"
     class="task {% if task.done %}done{% endif %}"
     data-id="{{ task.id }}"
     data-status="{{ task.status }}">

  <!-- ROW 1: checkbox + text + delete -->
  <div class="task-row task-main">

    <input type="checkbox"
           {% if task.status == "done" %}checked{% endif %}
           onchange="updateStatus('{{ task.id }}', this.checked ? 'done' : 'open')">

    <div class="task-text">
      {{ task.text }}
    </div>

    <button class="icon-btn danger"
            onclick="eliminateTask('{{ task.id }}')"
            title="Remove task">
      ğŸ—‘
    </button>

  </div>

  <!-- ROW 2: planning controls -->
  <div class="task-row task-meta">

    <label>Status</label>
    <select onchange="updateStatus('{{ task.id }}', this.value)">
      <option value="open" {% if task.status=='open' %}selected{% endif %}>Open</option>
      <option value="in_progress" {% if task.status=='in_progress' %}selected{% endif %}>In Progress</option>
      <option value="done" {% if task.status=='done' %}selected{% endif %}>Done</option>
    </select>

    <!-- FUTURE READY -->
    {% if task.due_date %}
      <span class="due">ğŸ“… {{ task.due_date }}</span>
    {% endif %}

  </div>
</div>
